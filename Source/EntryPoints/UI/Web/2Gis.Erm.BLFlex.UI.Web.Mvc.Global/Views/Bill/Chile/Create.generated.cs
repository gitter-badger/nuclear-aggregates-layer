#pragma warning disable 1591
//------------------------------------------------------------------------------
// <auto-generated>
//     This code was generated by a tool.
//     Runtime Version:4.0.30319.18449
//
//     Changes to this file may cause incorrect behavior and will be lost if
//     the code is regenerated.
// </auto-generated>
//------------------------------------------------------------------------------

namespace DoubleGis.Erm.BLFlex.UI.Web.Mvc.Global.Views.Bill.Chile
{
    using System;
    using System.Collections.Generic;
    using System.IO;
    using System.Linq;
    using System.Net;
    using System.Text;
    using System.Web;
    using System.Web.Helpers;
    using System.Web.Mvc;
    using System.Web.Mvc.Ajax;
    using System.Web.Mvc.Html;
    using System.Web.Optimization;
    using System.Web.Routing;
    using System.Web.Security;
    using System.Web.UI;
    using System.Web.WebPages;
    
    #line 1 "..\..\Views\Bill\Chile\Create.cshtml"
    using BLCore.API.Operations.Concrete.Old.Bills;
    
    #line default
    #line hidden
    
    #line 2 "..\..\Views\Bill\Chile\Create.cshtml"
    using BLCore.UI.Web.Mvc.Settings;
    
    #line default
    #line hidden
    using DoubleGis.Erm.BLCore.Resources.Server.Properties;
    using DoubleGis.Erm.BLCore.UI.Web.Mvc.Controllers;
    using DoubleGis.Erm.BLCore.UI.Web.Mvc.Models;
    using DoubleGis.Erm.BLCore.UI.Web.Mvc.Utils;
    using DoubleGis.Erm.Platform.Common;
    using DoubleGis.Erm.Platform.Model.Entities;
    using DoubleGis.Erm.Platform.Model.Entities.Enums;
    using DoubleGis.Erm.Platform.Model.Metadata.Enums;
    using DoubleGis.Erm.Platform.UI.Web.Mvc;
    using DoubleGis.Erm.Platform.UI.Web.Mvc.Utils;
    
    [System.CodeDom.Compiler.GeneratedCodeAttribute("RazorGenerator", "2.0.0.0")]
    [System.Web.WebPages.PageVirtualPathAttribute("~/Views/Bill/Chile/Create.cshtml")]
    public partial class Create : System.Web.Mvc.WebViewPage<BL.UI.Web.Mvc.Models.CreateBillViewModel>
    {
        public Create()
        {
        }
        public override void Execute()
        {
            
            #line 5 "..\..\Views\Bill\Chile\Create.cshtml"
  
    Layout = "../../Shared/_DialogLayout.cshtml";

            
            #line default
            #line hidden
WriteLiteral("\r\n\r\n");

DefineSection("Title", () => {

WriteLiteral(" ");

            
            #line 9 "..\..\Views\Bill\Chile\Create.cshtml"
            Write(BLResources.CreateBill);

            
            #line default
            #line hidden
WriteLiteral(" ");

});

DefineSection("TopBarTitle", () => {

WriteLiteral(" ");

            
            #line 10 "..\..\Views\Bill\Chile\Create.cshtml"
                  Write(BLResources.CreateBill);

            
            #line default
            #line hidden
WriteLiteral(" ");

});

DefineSection("TopBarMessage", () => {

WriteLiteral(" ");

            
            #line 11 "..\..\Views\Bill\Chile\Create.cshtml"
                    Write(BLResources.CreateBill);

            
            #line default
            #line hidden
WriteLiteral(" ");

});

WriteLiteral("\r\n");

DefineSection("PageContent", () => {

WriteLiteral("\r\n    <link");

WriteLiteral("  rel=\"stylesheet\"");

WriteLiteral(" type=\"text/css\"");

WriteAttribute("href", Tuple.Create(" href=\"", 411), Tuple.Create("\"", 472)
, Tuple.Create(Tuple.Create("", 418), Tuple.Create("/Content/slider.css?", 418), true)
            
            #line 15 "..\..\Views\Bill\Chile\Create.cshtml"
, Tuple.Create(Tuple.Create("", 438), Tuple.Create<System.Object, System.Int32>(SolutionInfo.ProductVersion.Build
            
            #line default
            #line hidden
, 438), false)
);

WriteLiteral(" />\r\n    \r\n    <script");

WriteAttribute("src", Tuple.Create(" src=\"", 495), Tuple.Create("\"", 583)
, Tuple.Create(Tuple.Create("", 501), Tuple.Create("/Scripts/Chile/Ext.DoubleGis.UI.BillPayments.js?", 501), true)
            
            #line 17 "..\..\Views\Bill\Chile\Create.cshtml"
, Tuple.Create(Tuple.Create("", 549), Tuple.Create<System.Object, System.Int32>(SolutionInfo.ProductVersion.Build
            
            #line default
            #line hidden
, 549), false)
);

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral("></script>\r\n    <script");

WriteAttribute("src", Tuple.Create(" src=\"", 630), Tuple.Create("\"", 703)
, Tuple.Create(Tuple.Create("", 636), Tuple.Create("/Scripts/Ext.grid.CheckColumn.js?", 636), true)
            
            #line 18 "..\..\Views\Bill\Chile\Create.cshtml"
, Tuple.Create(Tuple.Create("", 669), Tuple.Create<System.Object, System.Int32>(SolutionInfo.ProductVersion.Build
            
            #line default
            #line hidden
, 669), false)
);

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral("></script>\r\n\r\n    <script");

WriteLiteral(" type=\"text/javascript\"");

WriteLiteral(@">
        Ext.namespace('Ext.DoubleGis.UI.Bill');
        Ext.DoubleGis.UI.Bill.Configurator = Ext.extend(Object, {
        Config: { 
            OrderId: -1, // идентификатор заказа для которого созается счет на оплату
            BillPaymentControlElement: null,
            PaymentsAmountSliderElement: null,
            OrderSumElement: null
        },
        PaymentsControl: null,
        RelatedOrderControl: null,
        Payments: null,
        RelatedOrders: null,
        PaymentTypes: {
                Single: ");

            
            #line 34 "..\..\Views\Bill\Chile\Create.cshtml"
                    Write((int)BillPaymentType.Single);

            
            #line default
            #line hidden
WriteLiteral(",\r\n                ByPlan: ");

            
            #line 35 "..\..\Views\Bill\Chile\Create.cshtml"
                    Write((int)BillPaymentType.ByPlan);

            
            #line default
            #line hidden
WriteLiteral(",\r\n                Custom: ");

            
            #line 36 "..\..\Views\Bill\Chile\Create.cshtml"
                    Write((int)BillPaymentType.Custom);

            
            #line default
            #line hidden
WriteLiteral("\r\n            },\r\n        constructor: function(config) {\r\n            Ext.apply(" +
"this.Config, config);\r\n            \r\n            this.PaymentsControl = new Ext." +
"DoubleGis.UI.BillPaymentsControl({\r\n                orderId: this.Config.OrderId" +
", \r\n                billPaymentControlElement: this.Config.BillPaymentControlEle" +
"ment,\r\n                paymentsAmountSliderElement: this.Config.PaymentsAmountSl" +
"iderElement,\r\n                orderSumElement: this.Config.OrderSumElement,\r\n   " +
"             paymentTypes: this.PaymentTypes\r\n            });\r\n        },\r\n     " +
"   GetInitPaymentsInfo: function() {\r\n            // По-умолчанию считаем, что с" +
"чета создаются \"одним платежом\"\r\n            var paymentType = this.PaymentTypes" +
".Single;\r\n            \r\n            if (Ext.getDom(\"PaymentTypeSingle\").checked)" +
" {\r\n                paymentType = this.PaymentTypes.Single;\r\n            }\r\n    " +
"        else if (Ext.getDom(\"PaymentTypeByPlan\").checked) {\r\n                pay" +
"mentType = this.PaymentTypes.ByPlan;\r\n            }\r\n            this.PaymentsCo" +
"ntrol.getInitPayments(paymentType);\r\n        },\r\n        OnRadioClick: function(" +
") {\r\n            this.GetInitPaymentsInfo();\r\n        },\r\n        OnBillCreateEx" +
"ecuteStage1: function(){\r\n            var paymentsResult = this.PaymentsControl." +
"getPayments();\r\n            if (paymentsResult.HasError) {\r\n                Ext." +
"MessageBox.show({\r\n                        title: \'\',\r\n                        m" +
"sg: paymentsResult.ErrorMessage,\r\n                        buttons: Ext.MessageBo" +
"x.OK,\r\n                        width: 300,\r\n                        icon: Ext.Me" +
"ssageBox.ERROR\r\n                    });\r\n                return;\r\n            }\r" +
"\n            \r\n            this.Payments = paymentsResult.Payments;\r\n           " +
" if (paymentsResult.ConfirmationRequired) {\r\n                Ext.MessageBox.show" +
"({\r\n                        title: \'\',\r\n                        msg: paymentsRes" +
"ult.ConfirmationMessage,\r\n                        buttons: Ext.MessageBox.OKCANC" +
"EL,\r\n                        width: 300,\r\n                        icon: Ext.Mess" +
"ageBox.QUESTION,\r\n                        fn: function (btn) {\r\n                " +
"            if (btn == \'ok\') {\r\n                                this.OnBillCreat" +
"eExecuteStage2();\r\n                            }\r\n                        },\r\n  " +
"                      scope: this\r\n                    });\r\n            }\r\n     " +
"       else {\r\n                 this.OnBillCreateExecuteStage2();\r\n            }" +
"\r\n        },\r\n        OnBillCreateExecuteStage2: function () {\r\n                " +
"this.OnBillCreateExecuteFinal(this.Payments, null);\r\n        },\r\n        OnBillC" +
"reateExecuteFinal: function (payments, orders) {\r\n            window.Ext.Ajax.re" +
"quest({\r\n                timeout: 1200000,\r\n                scope: this,\r\n      " +
"          method: \'POST\',\r\n                url: \'/Bill/SavePayments\',\r\n         " +
"       params: {\r\n                     orderId: this.Config.OrderId, \r\n         " +
"            paymentsInfo: Ext.encode(payments), \r\n                     relatedOr" +
"ders: Ext.encode(orders)\r\n                },\r\n                success: function " +
"(xhr, options) {\r\n                    window.close();\r\n                },\r\n     " +
"           failure: function (xhr, options) {\r\n                    Ext.MessageBo" +
"x.show({\r\n                        title: \'\',\r\n                        msg: xhr.r" +
"esponseText,\r\n                        buttons: window.Ext.MessageBox.OK,\r\n      " +
"                  width: 300,\r\n                        icon: window.Ext.MessageB" +
"ox.ERROR\r\n                    });\r\n                }\r\n            });\r\n        }" +
",\r\n        Configure: function () {\r\n            //Show error messages\r\n        " +
"    if (Ext.getDom(\"Notifications\").innerHTML.trim() != \"\") {\r\n                E" +
"xt.get(\"Notifications\").addClass(\"Notifications\");\r\n            }\r\n            \r" +
"\n            Ext.getDom(\"PaymentTypeSingle\").checked = true;\r\n            this.G" +
"etInitPaymentsInfo();\r\n            \r\n            Ext.get(\"PaymentTypeSingle\").on" +
"(\"click\", this.OnRadioClick, this);\r\n            Ext.get(\"PaymentTypeByPlan\").on" +
"(\"click\", this.OnRadioClick, this);\r\n\r\n            //write eventhandlers for but" +
"tons\r\n            Ext.get(\"Cancel\").on(\"click\", function () { window.close(); })" +
";\r\n            Ext.get(\"OK\").on(\"click\", function () {this.OnBillCreateExecuteSt" +
"age1();}, this);\r\n        }\r\n        });\r\n        Ext.onReady(function () {\r\n   " +
"         var config = {\r\n                OrderId: Ext.getDom(\"OrderId\").value, /" +
"/ идентификатор заказа для которого созается счет на оплату\r\n                Bil" +
"lPaymentControlElement: \'billPaymentsControl\',\r\n                PaymentsAmountSl" +
"iderElement: \'paymentsAmountSlider\',\r\n                OrderSumElement: \'orderSum" +
"\' \r\n            };\r\n            var billConfigurator = new Ext.DoubleGis.UI.Bill" +
".Configurator(config);\r\n            billConfigurator.Configure();\r\n    });\r\n    " +
"</script>\r\n    \r\n    <div");

WriteLiteral(" style=\"display: none\"");

WriteLiteral(">\r\n");

WriteLiteral("        ");

            
            #line 155 "..\..\Views\Bill\Chile\Create.cshtml"
   Write(Html.HiddenFor(m => m.IsMassBillCreateAvailable));

            
            #line default
            #line hidden
WriteLiteral("\r\n");

WriteLiteral("        ");

            
            #line 156 "..\..\Views\Bill\Chile\Create.cshtml"
   Write(Html.HiddenFor(m => m.OrderId));

            
            #line default
            #line hidden
WriteLiteral("\r\n    </div>\r\n    <div");

WriteLiteral(" style=\"padding: 5px 0 0 10px\"");

WriteLiteral(">\r\n");

WriteLiteral("        ");

            
            #line 159 "..\..\Views\Bill\Chile\Create.cshtml"
   Write(BLResources.BillPaymentType);

            
            #line default
            #line hidden
WriteLiteral("\r\n        <table");

WriteLiteral(" width=\"80%\"");

WriteLiteral(">\r\n            <colgroup>\r\n                <col />\r\n                <col />\r\n    " +
"            <col />\r\n                <col />\r\n            </colgroup>\r\n         " +
"   <tbody>\r\n                <tr>\r\n                    <td");

WriteLiteral(" colspan=\"4\"");

WriteLiteral(">\r\n                        <div");

WriteLiteral(" style=\"height: 15px;display: none;\"");

WriteLiteral(" id=\"Notifications\"");

WriteLiteral(">\r\n");

WriteLiteral("                            ");

            
            #line 171 "..\..\Views\Bill\Chile\Create.cshtml"
                       Write(Model.Message);

            
            #line default
            #line hidden
WriteLiteral("\r\n                        </div>\r\n                    </td>\r\n                </tr" +
">\r\n                <tr>\r\n                    <td>\r\n");

WriteLiteral("                        ");

            
            #line 177 "..\..\Views\Bill\Chile\Create.cshtml"
                   Write(Html.RadioButtonFor(m => m.PaymentType, BillPaymentType.Single, new Dictionary<string, object> { { "id", "PaymentTypeSingle" } } ));

            
            #line default
            #line hidden
WriteLiteral("\r\n                    </td>\r\n                    <td>\r\n                        <l" +
"abel");

WriteLiteral(" style=\"font-weight: bold\"");

WriteLiteral(" for=\"PaymentTypeSingle\"");

WriteLiteral(">\r\n");

WriteLiteral("                            ");

            
            #line 181 "..\..\Views\Bill\Chile\Create.cshtml"
                       Write(BLResources.BillPaymentTypeSingle);

            
            #line default
            #line hidden
WriteLiteral("\r\n                        </label>\r\n                        <br />\r\n             " +
"           <div");

WriteLiteral(" style=\"color: #444444; padding-top: 5px\"");

WriteLiteral(">\r\n");

WriteLiteral("                            ");

            
            #line 185 "..\..\Views\Bill\Chile\Create.cshtml"
                       Write(BLResources.BillPaymentTypeSingleLegend);

            
            #line default
            #line hidden
WriteLiteral("\r\n                        </div>\r\n                    </td>\r\n                    " +
"<td>\r\n");

WriteLiteral("                        ");

            
            #line 189 "..\..\Views\Bill\Chile\Create.cshtml"
                   Write(Html.RadioButtonFor(m => m.PaymentType, BillPaymentType.ByPlan, new Dictionary<string, object> { { "id", "PaymentTypeByPlan" } } ));

            
            #line default
            #line hidden
WriteLiteral("\r\n                    </td>\r\n                    <td>\r\n                        <l" +
"abel");

WriteLiteral(" style=\"font-weight: bold\"");

WriteLiteral(" for=\"PaymentTypeByPlan\"");

WriteLiteral(">\r\n");

WriteLiteral("                            ");

            
            #line 193 "..\..\Views\Bill\Chile\Create.cshtml"
                       Write(BLResources.BillPaymentTypeByPlan);

            
            #line default
            #line hidden
WriteLiteral("\r\n                        </label>\r\n                        <br />\r\n             " +
"           <div");

WriteLiteral(" style=\"color: #444444; padding-top: 5px\"");

WriteLiteral(">\r\n");

WriteLiteral("                            ");

            
            #line 197 "..\..\Views\Bill\Chile\Create.cshtml"
                       Write(BLResources.BillPaymentTypeByPlanLegend);

            
            #line default
            #line hidden
WriteLiteral("\r\n                        </div>\r\n                    </td>\r\n                </tr" +
">\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n    <div");

WriteLiteral(" style=\"padding: 10px\"");

WriteLiteral(">\r\n");

WriteLiteral("        ");

            
            #line 205 "..\..\Views\Bill\Chile\Create.cshtml"
   Write(MetadataResources.PaymentsAmount);

            
            #line default
            #line hidden
WriteLiteral("\r\n     </div>\r\n    <div");

WriteLiteral(" id=\"billsAmountWarning\"");

WriteLiteral(" style=\"padding-left: 100px\"");

WriteLiteral("></div>\r\n    <div");

WriteLiteral(" id=\"paymentsAmountSlider\"");

WriteLiteral("></div>\r\n    <div");

WriteLiteral(" id=\"billPaymentsControl\"");

WriteLiteral(" style=\"margin: 10px\"");

WriteLiteral("></div>\r\n    <span");

WriteLiteral(" style=\"float: right; padding: 0 10px;\"");

WriteLiteral(">\r\n");

WriteLiteral("        ");

            
            #line 211 "..\..\Views\Bill\Chile\Create.cshtml"
   Write(BLResources.OrderSum);

            
            #line default
            #line hidden
WriteLiteral(", ");

            
            #line 211 "..\..\Views\Bill\Chile\Create.cshtml"
                          Write(ViewData.GetErmBaseCurrencySymbol());

            
            #line default
            #line hidden
WriteLiteral("\r\n        <span");

WriteLiteral(" id=\"orderSum\"");

WriteLiteral("></span>\r\n    </span>\r\n");

});

        }
    }
}
#pragma warning restore 1591
