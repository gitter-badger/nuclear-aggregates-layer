@model EditPrivilegeViewModel

@{
    Layout = "../Shared/_SiteLayout.cshtml";
}

@section TitleContent { }

@section HeadContent
{
    <script type="text/javascript">
        window.BeforeSave = function (onSuccess, onFailure)
        {
            if (Ext.DoubleGis.UI.EntityPermissionControlInstance)
            {
                Ext.DoubleGis.UI.EntityPermissionControlInstance.Save(onSuccess, onFailure);
            }
        }
    </script>
    
    <script src="/Scripts/Ext.grid.CheckColumn.js?@SolutionInfo.ProductVersion.Build" type="text/javascript"></script>
    <script src="/Scripts/Ext.DoubleGis.UI.Security.EntityPrivilegeControl.js?@SolutionInfo.ProductVersion.Build" type="text/javascript"></script>
}

@section MainContent
{
    @Html.HiddenFor(m => m.RoleId)
    @Html.Hidden("entityNameLocalized", MetadataResources.EntityName)
    @Html.Hidden("privilegeNameLocalized", BLResources.PrivilegeName)
    @Html.Hidden("privilegeDepthLocalized", BLResources.PrivilegeDepth)
    <div class="Tab" id="EntityPermissions" title="@BLResources.EntityPrivileges">
        <div id="entityPermissionPanel"/>
    </div>
}